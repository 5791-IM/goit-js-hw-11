{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form');\nconst input = document.querySelector('.input');\nconst gallery = document.querySelector('.gallery');\n\nconst showLoader = () => {\n  const loader = document.createElement('span');\n  loader.classList.add('loader');\n  conteiner.append(loader);\n};\n\nconst hideLoader = () => {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.remove();\n  }\n};\n\nform.addEventListener('submit', event => {\n  showLoader();\n  gallery.innerHTML = '';\n  event.preventDefault();\n  const searchTerm = input.e;\n  searchImages(searchTerm);\n});\n\nfunction searchImages(searchTerm) {\n  const apiKey = '42290205-24e5613e72929844af62d686c';\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(\n    searchTerm\n  )}&image_type=photo&orientation=horizontal&safesearch=true&per_page=18`;\n  fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      } else {\n        return response.json();\n      }\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'center',\n          transitionIn: 'fadeInLeft',\n        });\n        hideLoader();\n      } else {\n        const markup = data.hits\n          .map(image => {\n            return `\n          <li class = \"gallery-item\">\n          <a href = \"${image.largeImageURL}\">\n          <img class = \"gallery-image\" \n          src = \"${image.webformatURL}\"\n          alt = \"${image.tags}\">\n          </a>\n          <p><b>Likes: </b>${image.likes}</p>\n          <p><b>Views: </b>${image.views}</p>\n          <p><b>Comments: </b>${image.comments}</p>\n          <p><b>Downloads: </b>${image.downloads}</p>\n          </li>`;\n          })\n          .join('');\n\n        gallery.insertAdjacentHTML('beforeend', markup);\n        const lightbox = new SimpleLightbox('.gallery a', {\n          captions: true,\n          captionType: 'attr',\n          captionsData: 'alt',\n          captionPosition: 'bottom',\n          fadeSpeed: 150,\n          captionSelector: 'img',\n          captionDelay: 250,\n        });\n\n        lightbox.on('show.simplelightbox').refresh();\n        hideLoader();\n      }\n    })\n    .catch(error => console.log(error));\n}\n"],"names":["form","input","gallery","showLoader","loader","hideLoader","event","searchTerm","searchImages","url","response","data","iziToast","markup","image","SimpleLightbox","error"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAa,IAAM,CACvB,MAAMC,EAAS,SAAS,cAAc,MAAM,EAC5CA,EAAO,UAAU,IAAI,QAAQ,EAC7B,UAAU,OAAOA,CAAM,CACzB,EAEMC,EAAa,IAAM,CACvB,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACFA,EAAO,OAAM,CAEjB,EAEAJ,EAAK,iBAAiB,SAAUM,GAAS,CACvCH,IACAD,EAAQ,UAAY,GACpBI,EAAM,eAAc,EACpB,MAAMC,EAAaN,EAAM,EACzBO,EAAaD,CAAU,CACzB,CAAC,EAED,SAASC,EAAaD,EAAY,CAEhC,MAAME,EAAM,qEAA4C,mBACtDF,CACD,CAAA,uEACD,MAAME,CAAG,EACN,KAAKC,GAAY,CAChB,GAAKA,EAAS,GAGZ,OAAOA,EAAS,OAFhB,MAAM,IAAI,MAAMA,EAAS,MAAM,CAIvC,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvBC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,SACV,aAAc,YACxB,CAAS,EACDP,QACK,CACL,MAAMQ,EAASF,EAAK,KACjB,IAAIG,GACI;AAAA;AAAA,uBAEIA,EAAM,aAAa;AAAA;AAAA,mBAEvBA,EAAM,YAAY;AAAA,mBAClBA,EAAM,IAAI;AAAA;AAAA,6BAEAA,EAAM,KAAK;AAAA,6BACXA,EAAM,KAAK;AAAA,gCACRA,EAAM,QAAQ;AAAA,iCACbA,EAAM,SAAS;AAAA,gBAErC,EACA,KAAK,EAAE,EAEVZ,EAAQ,mBAAmB,YAAaW,CAAM,EAC7B,IAAIE,EAAe,aAAc,CAChD,SAAU,GACV,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,UAAW,IACX,gBAAiB,MACjB,aAAc,GACxB,CAAS,EAEQ,GAAG,qBAAqB,EAAE,QAAO,EAC1CV,GACD,CACP,CAAK,EACA,MAAMW,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC"}